CREATE TABLE estoque (
    id_estoque INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    valor_total_estoque DECIMAL(10,2),
    quantidade_em_estoque INT NOT NULL,
    quantidade_maxima INT NOT NULL,
    quantidade_minima INT NOT NULL,
    data_entrada DATETIME NOT NULL,
    descricao VARCHAR(255) NOT NULL,
    id_produto INT NOT NULL,
    FOREIGN KEY (id_produto) REFERENCES produto(id_produto)
);


CREATE TABLE fornecedor (

	id_fornecedor INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	nome_empresa VARCHAR(255) NOT NULL UNIQUE,
	id_produto INT NOT NULL,
	razao_social VARCHAR(255) NOT NULL,
	cnpj VARCHAR(255) NOT NULL UNIQUE,
	telefone INT NOT NULL,
	endereco VARCHAR(255) NOT NULL,
	email VARCHAR(255) NOT NULL UNIQUE,

	FOREIGN KEY (id_produto) REFERENCES produto(id_produto)
	

);


CREATE TABLE funcionario(

	id_funcionario INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	matricula VARCHAR(255) NOT NULL UNIQUE,
	senha VARCHAR(255) NOT NULL,
	cpf VARCHAR(255) NOT NULL UNIQUE,
	rg INT NOT NULL UNIQUE,
	cargo VARCHAR(255) NOT NULL,
	cep VARCHAR(255) NOT NULL,
	bairro VARCHAR(255),
	cidade VARCHAR(255) NOT NULL
	
);


CREATE TABLE produto (
    id_produto INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(255) NOT NULL,
    tamanho INT NOT NULL,
    marca VARCHAR(255) NOT NULL,
    cor VARCHAR(150) NOT NULL,
    preco DECIMAL(10,2) NOT NULL,
    quantidade INT NOT NULL,
    id_categoria INT NOT NULL,
    codigo_sku VARCHAR(255) NOT NULL UNIQUE,
    modelo VARCHAR(255) NOT NULL,
    FOREIGN KEY (id_categoria) REFERENCES categoria(id_categoria)
);



CREATE TABLE categoria (

	id_categoria INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	nome_categoria VARCHAR(150) NOT NULL
);


CREATE TABLE produto_estoque (
    id_produto INT NOT NULL,
    id_estoque INT NOT NULL,
    PRIMARY KEY (id_produto, id_estoque),
    FOREIGN KEY (id_produto) REFERENCES produto(id_produto),
    FOREIGN KEY (id_estoque) REFERENCES estoque(id_estoque)
);


